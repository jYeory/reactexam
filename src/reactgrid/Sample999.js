import React, { useState, useCallback } from 'react'

import ReactDataGrid from '@inovua/reactdatagrid-enterprise'
import '@inovua/reactdatagrid-enterprise/index.css'

import NumberFilter from '@inovua/reactdatagrid-community/NumberFilter';
import SelectFilter from '@inovua/reactdatagrid-community/SelectFilter';

import Button from '@inovua/reactdatagrid-community/packages/Button'

const dataSource = [
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 174346,
    "salesQty": 47,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 870,
    "saleStrCnt": 16461,
    "ratio": 5.2852196090
  },
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 174346,
    "salesQty": 47,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 870,
    "saleStrCnt": 16461,
    "ratio": 5.2852196090
  },
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4666",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르메)이즈니포션8입10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 249831,
    "salesQty": 55,
    "evntCst": 2696,
    "evntSprc": 4950,
    "evntItemHdlStrCnt": 2079,
    "saleStrCnt": 16461,
    "ratio": 12.6298523780
  },
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4665",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르메)이즈니포션8입2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 249831,
    "salesQty": 55,
    "evntCst": 2696,
    "evntSprc": 5500,
    "evntItemHdlStrCnt": 2079,
    "saleStrCnt": 16461,
    "ratio": 12.6298523780
  },
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 153330,
    "salesQty": 41,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 965,
    "saleStrCnt": 16461,
    "ratio": 5.8623412910
  },
  {
    "salesDt": "20230331",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 153330,
    "salesQty": 41,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 965,
    "saleStrCnt": 16461,
    "ratio": 5.8623412910
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 137019,
    "salesQty": 37,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 863,
    "saleStrCnt": 16434,
    "ratio": 5.2513082630
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 137019,
    "salesQty": 37,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 863,
    "saleStrCnt": 16434,
    "ratio": 5.2513082630
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4666",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르메)이즈니포션8입10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 361561,
    "salesQty": 75,
    "evntCst": 2696,
    "evntSprc": 4950,
    "evntItemHdlStrCnt": 2090,
    "saleStrCnt": 16434,
    "ratio": 12.7175368130
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4665",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르메)이즈니포션8입2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 361561,
    "salesQty": 75,
    "evntCst": 2696,
    "evntSprc": 5500,
    "evntItemHdlStrCnt": 2090,
    "saleStrCnt": 16434,
    "ratio": 12.7175368130
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 82181,
    "salesQty": 22,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 961,
    "saleStrCnt": 16434,
    "ratio": 5.8476329560
  },
  {
    "salesDt": "20230330",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 82181,
    "salesQty": 22,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 961,
    "saleStrCnt": 16434,
    "ratio": 5.8476329560
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 191331,
    "salesQty": 51,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 871,
    "saleStrCnt": 16418,
    "ratio": 5.3051528800
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 191331,
    "salesQty": 51,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 871,
    "saleStrCnt": 16418,
    "ratio": 5.3051528800
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4666",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르메)이즈니포션8입10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 291763,
    "salesQty": 63,
    "evntCst": 2696,
    "evntSprc": 4950,
    "evntItemHdlStrCnt": 2094,
    "saleStrCnt": 16418,
    "ratio": 12.7542940670
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4202",
    "itemSclsNm": "버터/마가린",
    "itemCd": "8809075129652",
    "itemNm": "구르메)이즈니포션버터10G*8입",
    "uniEvntCd": "2023-4665",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르메)이즈니포션8입2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 291763,
    "salesQty": 63,
    "evntCst": 2696,
    "evntSprc": 5500,
    "evntItemHdlStrCnt": 2094,
    "saleStrCnt": 16418,
    "ratio": 12.7542940670
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4663",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "2+1",
    "evntGrpNm": "2023-3-구르)크리미8포션2종2+1",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 154676,
    "salesQty": 42,
    "evntCst": 2100,
    "evntSprc": 4200,
    "evntItemHdlStrCnt": 969,
    "saleStrCnt": 16418,
    "ratio": 5.9020587160
  },
  {
    "salesDt": "20230329",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011015",
    "itemNm": "구르메)크리미8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 154676,
    "salesQty": 42,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 969,
    "saleStrCnt": 16418,
    "ratio": 5.9020587160
  },
  {
    "salesDt": "20230328",
    "suppCd": "PV3790",
    "suppNm": "구르메에프앤드비코리아(주)",
    "purchCondCd": "PV3790003",
    "purchCondNm": "구르메에프앤드비코리아(치즈)",
    "itemLclsCd": "09",
    "itemLclsNm": "유제품",
    "itemMclsCd": "42",
    "itemMclsNm": "치즈/버터",
    "itemSclsCd": "4201",
    "itemSclsNm": "치즈",
    "itemCd": "5901126011763",
    "itemNm": "구르메)올리브8포션치즈140G",
    "uniEvntCd": "2023-4664",
    "uniEvntSpNm": "정기행사",
    "evntTypeNm": "할인",
    "evntGrpNm": "2023-3POP구르)크리미8포션2종10%",
    "evntDurBeginDt": "20230301",
    "evntDurEndDt": "20230331",
    "salesAmt": 144168,
    "salesQty": 39,
    "evntCst": 2100,
    "evntSprc": 3780,
    "evntItemHdlStrCnt": 864,
    "saleStrCnt": 16417,
    "ratio": 5.2628373020
  }
]

const API_URL = 'https://demos.reactdatagrid.io/api/v1/'

const accountsGridStyle = { minHeight: 800 }

const getDataSource = (entity) => {
  console.log(json.data.content);
  let data = json.data.content;
  console.log({ data, count: parseInt(json.data.content.length) });
  return { data, count: parseInt(json.data.content.length) };
}

const floatNumber = value => Number(value).toLocaleString(undefined, {
  minimumFractionDigits: 2,
  maximumFractionDigits: 2
});

const renderGroupTitle = value => value || 'N/A';
const renderLabeledGroupTitle = value => value ? value.label : 'N/A';
const defaultVisible = false

const gridLinkStyle = { color: '#9BA7B4' }

const GridLink = ({ value }) => <a style={gridLinkStyle} href={value} target="_blank" rel="noreferrer">
  {value}
</a>

const columns = [
  { name: 'salesDt', maxWidth: 50, renderGroupTitle, defaultVisible, header: '기준일자' },
  { name: 'suppNm', header: '거래처명' },
  { name: 'purchCondNm', header: '구매조건명' },
  { name: 'itemCd', header: '상품코드' },
  { name: 'uniEvntSpNm', header: '행사명'}
];

const dataSourceCache = {}

const defaultGroupBy = []

const accountRowHeight = 40
const contactRowHeight = accountRowHeight
const accountExpandHeight = 500

// https://reactdatagrid.io/docs/getting-started#using-a-data-source
const Sample999Grid = () => {
  const [accountRowHeights, setAccountRowHeights] = useState({});

  const accountsDataSource = useCallback(getDataSource('accounts'), [])

  return (
    <ReactDataGrid
      dataSource={dataSource}
      style={accountsGridStyle}
      rowHeight={accountRowHeight}
      pagination
      rowExpandHeight={accountExpandHeight}
      rowHeights={accountRowHeights}
      defaultGroupBy={defaultGroupBy}
      columnDefaultWidth={200}
      columns={columns}
      defaultLimit={10}
    />
  );
}

export default Sample999Grid;